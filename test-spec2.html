<h1 id="tests-specification-for-oscoap">Tests Specification for OSCOAP</h1>
<h2 id="table-of-contents">Table of Contents</h2>
<ol style="list-style-type: decimal">
<li><a href="#notes">Notes</a></li>
<li><a href="#security-contexts-and-resources">Security Contexts and Resources</a>
<ol style="list-style-type: decimal">
<li><a href="#client-sec">Security Context A: Client</a></li>
<li><a href="#server-sec">Security Context B: Server</a></li>
<li><a href="#resources">Resources</a></li>
</ol></li>
<li><a href="#correct-oscoap-use">Correct OSCOAP use</a>
<ol style="list-style-type: decimal">
<li><a href="#get">GET test</a>
<ol style="list-style-type: decimal">
<li><a href="#test-1a">Test 1a</a></li>
<li><a href="#test-1b">Test 1b</a></li>
<li><a href="#test-2a">Test 2a</a></li>
<li><a href="#test-2b">Test 2b</a></li>
<li><a href="#test-3a">Test 3a</a></li>
<li><a href="#test-3b">Test 3b</a></li>
<li><a href="#test-4a">Test 4a</a></li>
<li><a href="#test-4b">Test 4b</a></li>
</ol></li>
<li><a href="#pot">POST test</a>
<ol style="list-style-type: decimal">
<li><a href="#test-5a">Test 5a</a></li>
<li><a href="#test-5b">Test 5b</a></li>
</ol></li>
<li><a href="#put">PUT test</a>
<ol style="list-style-type: decimal">
<li><a href="#test-6a">Test 6a</a></li>
<li><a href="#test-6b">Test 6b</a></li>
<li><a href="#test-7a">Test 7a</a></li>
<li><a href="#test-7b">Test 7b</a></li>
</ol></li>
<li><a href="#del">DELETE test</a>
<ol style="list-style-type: decimal">
<li><a href="#test-8a">TEST_8a</a></li>
<li><a href="#test-8b">TEST_8b</a></li>
</ol></li>
</ol></li>
<li><a href="#incorrect-oscoap">Incorrect OSCOAP use</a>
<ol style="list-style-type: decimal">
<li><a href="#sec-context">Security Context not matching</a>
<ol start="3" style="list-style-type: decimal">
<li><a href="#test-9a">TEST_9a</a></li>
<li><a href="#test-9b">TEST_9b</a></li>
<li><a href="#test-10a">TEST_10a</a></li>
<li><a href="#test-10b">TEST_10b</a></li>
<li><a href="#test-11a">TEST_11a</a></li>
<li><a href="#test-11b">TEST_11b</a></li>
<li><a href="#test-12a">TEST_12a</a></li>
<li><a href="#test-12b">TEST_12b</a></li>
<li><a href="#test-13a">TEST_13a</a></li>
<li><a href="#test-13b">TEST_13b</a></li>
</ol></li>
<li><a href="#replay">Replay of a previously sent message</a>
<ol style="list-style-type: decimal">
<li><a href="#test-14a">TEST_14a</a></li>
<li><a href="#test-14b">TEST_14b</a></li>
<li><a href="#test-15a">TEST_15a</a></li>
<li><a href="#test-15b">TEST_15b</a></li>
<li><a href="#test-16a">TEST_16a</a></li>
<li><a href="#test-16b">TEST_16b</a></li>
</ol></li>
<li><a href="#unauth">Accessing an OSCOAP-protected resource without OSCOAP</a>
<ol style="list-style-type: decimal">
<li><a href="#test-17a">TEST_17a</a></li>
<li><a href="#test-17b">TEST_17b</a></li>
</ol></li>
</ol></li>
</ol>
<h2 id="notes">1. Notes</h2>
<p>CoAP Version is 2 in all the tests.</p>
<p>The client and server may optionally display external_aad and COSE object (before and after compression) to simplify debugging.</p>
<h2 id="security-contexts-and-resources">2. Security Contexts and Resources</h2>
<h3 id="client-sec">Security Context A: Client</h3>
<ul>
<li>Common Context:
<ul>
<li>Base Key: 01-02-03-04-05-06-07-08-09-0A-0B-0C-0D-0E-0F-10-11-12-13-14-15-16-17-18-19-1A-1B-1C-1D-1E-1F-20-21-22-23</li>
<li>Alg: AES-CCM-64-64-128</li>
<li>Context Id: 4B-65-79-23-30</li>
</ul></li>
<li>Sender Context:
<ul>
<li>Sender Id: 63-6C-69-65-6E-74</li>
<li>Sender Key: F8-20-1E-D1-5E-10-37-BC-AF-69-06-07-9A-D3-0B-4F</li>
<li>Sender IV: E8-28-A4-79-D0-88-C4</li>
<li>Sender Seq Number: 00</li>
</ul></li>
<li>Recipient Context:
<ul>
<li>Recipient Id: 73-65-72-76-65-72</li>
<li>Recipient Key: EB-43-09-8A-0F-6F-7B-69-CE-DF-29-E0-80-50-95-82</li>
<li>Recipient IV: 58-F9-1A-5C-DF-F4-F5</li>
<li>Recipient Seq Number: 00</li>
</ul></li>
</ul>
<h3 id="server-sec">Security Context B: Server</h3>
<ul>
<li>Common Context:
<ul>
<li>Base Key: 01-02-03-04-05-06-07-08-09-0A-0B-0C-0D-0E-0F-10-11-12-13-14-15-16-17-18-19-1A-1B-1C-1D-1E-1F-20-21-22-23</li>
<li>Alg: AES-CCM-64-64-128</li>
<li>Context Id: 4B-65-79-23-30</li>
</ul></li>
<li>Sender Context:
<ul>
<li>Sender Id: 73-65-72-76-65-72</li>
<li>Sender Key: EB-43-09-8A-0F-6F-7B-69-CE-DF-29-E0-80-50-95-82</li>
<li>Sender IV: 58-F9-1A-5C-DF-F4-F5</li>
<li>Sender Seq Number: 00</li>
</ul></li>
<li>Recipient Context:
<ul>
<li>Recipient Id: 63-6C-69-65-6E-74</li>
<li>Recipient Key: F8-20-1E-D1-5E-10-37-BC-AF-69-06-07-9A-D3-0B-4F</li>
<li>Recipient IV: E8-28-A4-79-D0-88-C4</li>
<li>Recipient Seq Number: 00</li>
</ul></li>
</ul>
<h3 id="resources">Resources</h3>
<p>The list of resources the server must implement is the following:</p>
<ul>
<li>/hello/coap : authorized method: GET, returns the string &quot;Hello World!&quot; with content-format 0 (text/plain)</li>
<li>/hello/1 : protected resource, authorized method: GET, returns the string &quot;Hello World!&quot; with content-format 0 (text/plain)</li>
<li>/hello/2 : protected resource, authorized method: GET, returns the string &quot;Hello World!&quot; with content-format 0 (text/plain), and with ETag 0x2b</li>
<li>/hello/3 : protected resource, authorized method: GET, returns the string &quot;Hello World!&quot; with content-format 0 (text/plain), and Max-Age 5</li>
<li>/hello/6 : protected resource, authorized method: PUT, returns the value of the resource with content-format 0 (text/plain), has ETag 0x6b</li>
<li>/observe : protected resource, authorized method: GET, returns a counter incremented every 2 seconds, supports observe.</li>
</ul>
<hr />
<h2 id="set-up-the-environment">3. Set up the environment</h2>
<h3 id="test-0a">3.1. Identifier: TEST_0a</h3>
<p><strong>Objective</strong> : Verify that CoAP exchange works. Perform a simple GET transaction using COAP, Content-Format and Uri-Path option (Client side)</p>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP GET request including:</p>
<ul>
<li>Uri-Path : /hello/coap</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>Client serializes the request</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><p>Client displays the sent packet</p></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>Client parses the response and continues the CoAP processing expected; expected: 2.05 Content Response with:</p>
<ul>
<li>Content-Format = 0 (text/plain)</li>
<li>Payload = &quot;Hello World!&quot;</li>
</ul></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><p>Client displays the received packet</p></td>
</tr>
</tbody>
</table>
<h4 id="test-0b">3.2. Identifier: TEST_0b</h4>
<p><strong>Objective</strong> : Verify that CoAP exchange works. Perform a simple GET transaction using COAP, Content-Format and Uri-Path option (Server side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>server resources</em>:</p>
<ul>
<li>/hello/coap : authorized method: GET, returns the string &quot;Hello World!&quot; with content-format 0 (text/plain)</li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP GET request including:</p>
<ul>
<li>Uri-Path = /hello/coap</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>Server parses the request and continues the CoAP processing</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><p>Server displays the received packet</p></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>Server serialize the response correctly, which is: 2.05 Content Response with:</p>
<ul>
<li>Content-Format = 0 (text/plain)</li>
<li>Payload = &quot;Hello World!&quot;</li>
</ul></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><p>Server displays the sent packet</p></td>
</tr>
</tbody>
</table>
<h2 id="correct-oscoap-use">4. Correct OSCOAP use</h2>
<h3 id="get">4.1 GET Tests</h3>
<h4 id="test-1a">4.1.1. Identifier: TEST_1a</h4>
<p><strong>Objective</strong> : Perform a simple GET transaction using OSCOAP, Content-Format and Uri-Path option (Client side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>client security context</em>: <a href="#client-sec">Security Context A</a>, with:</p>
<ul>
<li>Sequence number received not in client's replay window</li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP GET request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-Path : /hello/1</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>Client serializes the request</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><p>Client displays the sent packet</p></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>Client parses the response and continues the CoAP processing (OSCOAP verification succeeds); expected: 2.05 Content Response with:</p>
<ul>
<li>Object-Security option</li>
<li>Content-Format = 0 (text/plain)</li>
<li>Payload = &quot;Hello World!&quot;</li>
</ul></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><p>Client displays the received packet</p></td>
</tr>
</tbody>
</table>
<h4 id="test-1b">4.1.2. Identifier: TEST_1b</h4>
<p><strong>Objective</strong> : Perform a simple GET transaction using OSCOAP, Content-Format and Uri-Path option (Server side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>server security context</em>: <a href="#server-sec">Security Context B</a>, with:</p>
<ul>
<li>Sequence number received not in server's replay window</li>
</ul>
<p><em>server resources</em>:</p>
<ul>
<li>/hello/1 : protected resource, authorized method: GET, returns the string &quot;Hello World!&quot; with content-format 0 (text/plain)</li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP GET request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-Path = /hello/1</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>Server parses the request and continues the CoAP processing (OSCOAP verification succeeds)</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><p>Server displays the received packet</p></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>Server serialize the response correctly, which is: 2.05 Content Response with:</p>
<ul>
<li>Object-Security option</li>
<li>Content-Format = 0 (text/plain)</li>
<li>Payload = &quot;Hello World!&quot;</li>
</ul></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><p>Server displays the sent packet</p></td>
</tr>
</tbody>
</table>
<h4 id="test-2a">3.1.3. Identifier: TEST_2a</h4>
<p><strong>Objective</strong> : Perform a GET transaction using OSCOAP, Content-Format, Uri-Path, Uri-Query and ETag option (Client side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>client security context</em>: <a href="#client-sec">Security Context A</a>, with:</p>
<ul>
<li>Sequence number sent not in server's replay window</li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP GET request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-Path = /hello/2</li>
<li>Uri-Query : first=1</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>Client serializes the request</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><p>Client displays the sent packet</p></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>Client parses the response and continues the CoAP processing (OSCOAP verification succeeds); expected: 2.05 Content Response with:</p>
<ul>
<li>Object-Security option</li>
<li>Content-Format = 0 (text/plain)</li>
<li>ETag with value 0x2b</li>
<li>Payload = &quot;Hello World!&quot;</li>
</ul></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><p>Client displays the received packet</p></td>
</tr>
</tbody>
</table>
<h4 id="test-2b">3.1.4. Identifier: TEST_2b</h4>
<p><strong>Objective</strong> : Perform a GET transaction using OSCOAP, Content-Format, Uri-Path, Uri-Query and ETag option (Server side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>server security context</em>: <a href="#server-sec">Security Context B</a>, with:</p>
<ul>
<li>Sequence number received not in server's replay window</li>
</ul>
<p><em>server resources</em>:</p>
<ul>
<li>/hello/2 : protected resource, authorized method: GET, returns the string &quot;Hello World!&quot; with content-format 0 (text/plain), and with ETag 0x2b</li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP GET request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-path = /hello/2</li>
<li>Uri-Query : first=1</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>Server parses the request and continues the CoAP processing (OSCOAP verification succeeds)</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><p>Server displays the received packet</p></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>Server serialize the response correctly, which is: 2.05 Content Response with:</p>
<ul>
<li>Object-Security option</li>
<li>Content-Format = 0 (text/plain)</li>
<li>ETag with value 0x2b</li>
<li>Payload = &quot;Hello World!&quot;</li>
</ul></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><p>Server displays the sent packet</p></td>
</tr>
</tbody>
</table>
<h4 id="test-3a">3.1.5. Identifier: TEST_3a</h4>
<p><strong>Objective</strong> : Perform a GET transaction using OSCOAP, Content-Format, Uri-Path, Accept and Max-Age option (Client side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>client security context</em>: <a href="#client-sec">Security Context A</a>, with:</p>
<ul>
<li>Sequence number sent not in server's replay window</li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP GET request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-path = /hello/3</li>
<li>Accept = 0 (text/plain;charset=utf-8)</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>Client serializes the request</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><p>Client displays the sent packet</p></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>Client parses the response and continues the CoAP processing (OSCOAP verification succeeds); expected: 2.05 Content Response with:</p>
<ul>
<li>Object-Security option</li>
<li>Content-Format = 0 (text/plain)</li>
<li>Max-Age with value 0x05</li>
<li>Payload = &quot;Hello World!&quot;</li>
</ul></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><p>Client displays the received packet</p></td>
</tr>
</tbody>
</table>
<h4 id="test-3b">3.1.6. Identifier: TEST_3b</h4>
<p><strong>Objective</strong> :Perform a GET transaction using OSCOAP, Content-Format, Uri-Path, Accept and Max-Age option (Server side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>server security context</em>: <a href="#server-sec">Security Context B</a>, with:</p>
<ul>
<li>Sequence number received not in server's replay window</li>
</ul>
<p><em>server resources</em>:</p>
<ul>
<li>/hello/3 : protected resource, authorized method: GET, returns the string &quot;Hello World!&quot; with content-format 0 (text/plain), and Max-Age 5</li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP GET request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-path = /hello/3</li>
<li>Accept = 0 (text/plain;charset=utf-8)</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>Server parses the request and continues the CoAP processing (OSCOAP verification succeeds)</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><p>Server displays the received packet</p></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>Server serialize the response correctly, which is: 2.05 Content Response with:</p>
<ul>
<li>Object-Security option</li>
<li>Content-Format = 0 (text/plain)</li>
<li>Max-Age with value 0x05</li>
<li>Payload = &quot;Hello World!&quot;</li>
</ul></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><p>Server displays the sent packet</p></td>
</tr>
</tbody>
</table>
<h4 id="test-4a">3.1.7. Identifier: TEST_4a</h4>
<p><strong>Objective</strong> : Perform a GET transaction using OSCOAP, Content-Format, Uri-Path, and Observe (Client side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>client security context</em>: <a href="#client-sec">Security Context A</a>, with:</p>
<ul>
<li>Sequence number sent not in server's replay window</li>
<li>Sequence number received not in client's replay window</li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP GET request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-path = /observe</li>
<li>Observe = 0 (Registration)</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>Client serializes the request</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><p>Client displays the sent packet</p></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>Client parses the response and continues the CoAP processing (OSCOAP verification succeeds); expected: 2.05 Content Response with:</p>
<ul>
<li>Object-Security option</li>
<li>Observe (Notification)</li>
<li>Payload = ...</li>
</ul></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><p>Client displays the received packet</p></td>
</tr>
<tr class="even">
<td><p>6</p></td>
<td><p>Check</p></td>
<td><p>Client parses the response and continues the CoAP processing (OSCOAP verification succeeds); expected: 2.05 Content Response with:</p>
<ul>
<li>Object-Security option</li>
<li>Observe (Notification)</li>
<li>Payload = ...</li>
</ul></td>
</tr>
<tr class="odd">
<td><p>7</p></td>
<td><p>Verify</p></td>
<td><p>Client displays the received packet</p></td>
</tr>
</tbody>
</table>
<p>Etc.</p>
<h4 id="test-4b">3.1.6. Identifier: TEST_4b</h4>
<p><strong>Objective</strong> : Perform a GET transaction using OSCOAP, Content-Format, Uri-Path, and Observe (Server side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>server security context</em>: <a href="#server-sec">Security Context B</a>, with:</p>
<ul>
<li>Sequence number received not in server's replay window</li>
<li>Sequence sent received not in client's replay window</li>
</ul>
<p><em>server resources</em>:</p>
<ul>
<li>/observe : protected resource, authorized method: GET, returns a counter incremented every 2 seconds, supports observe.</li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP GET request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-path = /observe</li>
<li>Observe = 0 (Registration)</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>Server parses the request and continues the CoAP processing (OSCOAP verification succeeds)</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><p>Server displays the received packet</p></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>Server serialize the response correctly, which is: 2.05 Content Response with:</p>
<ul>
<li>Object-Security option</li>
<li>Observe (Notification)</li>
<li>Payload = ...</li>
</ul></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><p>Server displays the sent packet</p></td>
</tr>
<tr class="even">
<td><p>6</p></td>
<td><p>Check</p></td>
<td><p>Server serialize the response correctly, which is: 2.05 Content Response with:</p>
<ul>
<li>Object-Security option</li>
<li>Observe (Notification)</li>
<li>Payload = ...</li>
</ul></td>
</tr>
<tr class="odd">
<td><p>7</p></td>
<td><p>Verify</p></td>
<td><p>Server displays the sent packet</p></td>
</tr>
</tbody>
</table>
<p>Etc.</p>
<h3 id="post">3.2. POST Tests</h3>
<h4 id="test-5a">3.2.1. Identifier: TEST_5a</h4>
<p><strong>Objective</strong> : Perform a POST transaction using OSCOAP, Content-Format, Location-path, Location-Query and Uri-Path option, creating a resource (Client side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>client security context</em>: <a href="#client-sec">Security Context A</a>, with:</p>
<ul>
<li>Sequence number sent not in server's replay window</li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP POST request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-Path = /hello/5</li>
<li>Content-Format = 0</li>
<li>payload = 0x4a</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>Client serializes the request</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><p>Client displays the sent packet</p></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>Client parses the response and continues the CoAP processing (OSCOAP verification succeeds); expected: 2.01 Created Response with:</p>
<ul>
<li>Object-Security option</li>
<li>Location-path = /hello/5</li>
<li>Location-Query : first=1</li>
</ul></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><p>Client displays the received packet</p></td>
</tr>
</tbody>
</table>
<h4 id="test-5b">3.2.2. Identifier: TEST_5b</h4>
<p><strong>Objective</strong> : Perform a POST transaction using OSCOAP, Content-Format, Location-path, Location-Query and Uri-Path option, creating a resource (Server side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>server security context</em>: <a href="#server-sec">Security Context B</a>, with:</p>
<ul>
<li>Sequence number received not in server's replay window</li>
</ul>
<p><em>server resources</em>:</p>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP POST request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-Path = /hello/5</li>
<li>Content-Format = 0</li>
<li>payload = 0x4a</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>Server parses the request and continues the CoAP processing (OSCOAP verification succeeds)</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><p>Server displays the received packet</p></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>Server serialize the response correctly, which is: 2.01 Created Response with:</p>
<ul>
<li>Object-Security option</li>
<li>Location-path = /hello/5</li>
<li>Location-Query : first=1</li>
</ul></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><p>Server displays the sent packet</p></td>
</tr>
</tbody>
</table>
<h3 id="PUT">3.3 PUT Tests</h3>
<h4 id="test-6a">3.3.1. Identifier: TEST_6a</h4>
<p><strong>Objective</strong> : Perform a PUT transaction using OSCOAP, Uri-Path, Content-Format and If-Match option (Client side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>client security context</em>: <a href="#client-sec">Security Context A</a>, with:</p>
<ul>
<li>Sequence number sent not in server's replay window</li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP PUT request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-Path = /hello/6</li>
<li>Content-Format = 0</li>
<li>If-Match with value 0x6b</li>
<li>payload = 0x6a</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>Client serializes the request</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><p>Client displays the sent packet</p></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>Client parses the response and continues the CoAP processing (OSCOAP verification succeeds); expected: 2.04 Changed Response with:</p>
<ul>
<li>Object-Security option</li>
</ul></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><p>Client displays the received packet</p></td>
</tr>
</tbody>
</table>
<h4 id="test-6b">3.3.2. Identifier: TEST_6b</h4>
<p><strong>Objective</strong> : Perform a PUT transaction using OSCOAP, Uri-Path, Content-Format and If-Match option (Server side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>server security context</em>: <a href="#server-sec">Security Context B</a>, with:</p>
<ul>
<li>Sequence number received not in server's replay window</li>
</ul>
<p><em>server resources</em>:</p>
<ul>
<li>/hello/6 : protected resource, authorized method: PUT, returns the value of the resource with content-format 0 (text/plain), has ETag 0x6b</li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP PUT request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-Path = /hello/6</li>
<li>Content-Format = 0</li>
<li>If-Match with value 0x6b</li>
<li>payload = 0x6a</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>Server parses the request and continues the CoAP processing (OSCOAP verification succeeds)</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><p>Server displays the received packet</p></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>Server serialize the response correctly, which is: 2.04 Changed Response with:</p>
<ul>
<li>Object-Security option</li>
</ul></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><p>Server displays the sent packet</p></td>
</tr>
</tbody>
</table>
<h4 id="test-7a">3.3.3. Identifier: TEST_7a</h4>
<p><strong>Objective</strong> : Perform a PUT transaction using OSCOAP, Uri-Path, Content-Format and If-None-Match option (Client side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>client security context</em>: <a href="#client-sec">Security Context A</a>, with:</p>
<ul>
<li>Sequence number sent not in server's replay window</li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP PUT request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-Path = /hello/6</li>
<li>Content-Format = 0</li>
<li>If-None-Match</li>
<li>payload = 0x7a</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>Client serializes the request</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><p>Client displays the sent packet</p></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>Client parses the response and continues the CoAP processing (OSCOAP verification succeeds); expected: 4.12 Precondition Failed Response with:</p>
<ul>
<li>Object-Security option</li>
</ul></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><p>Client displays the received packet</p></td>
</tr>
</tbody>
</table>
<h4 id="test-7b">3.3.4. Identifier: TEST_7b</h4>
<p><strong>Objective</strong> : Perform a PUT transaction using OSCOAP, Uri-Path, Content-Format and If-None-Match option (Server side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>server security context</em>: <a href="#server-sec">Security Context B</a>, with:</p>
<ul>
<li>Sequence number received not in server's replay window</li>
</ul>
<p><em>server resources</em>:</p>
<ul>
<li>/hello/6 : protected resource, authorized method: PUT, returns the value of the resource with content-format 0 (text/plain), has ETag 0x6b</li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP PUT request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-Path = /hello/6</li>
<li>Content-Format = 0</li>
<li>If-None-Match</li>
<li>payload = 0x7a</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>Server parses the request and continues the CoAP processing (OSCOAP verification succeeds)</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><p>Server displays the received packet</p></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>Server serialize the response correctly, which is: 4.12 Precondition Failed Response with:</p>
<ul>
<li>Object-Security option</li>
</ul></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><p>Server displays the sent packet</p></td>
</tr>
</tbody>
</table>
<h3 id="DEL">3.4. DELETE Tests</h3>
<h4 id="test-8a">3.4.1. Identifier: TEST_8a</h4>
<p><strong>Objective</strong> : Perform a DELETE transaction using OSCOAP and Uri-Path option (Client side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>client security context</em>: <a href="#client-sec">Security Context A</a>, with:</p>
<ul>
<li>Sequence number sent not in server's replay window</li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP DEL request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-Path = /test</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>Client serializes the request</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><p>Client displays the sent packet</p></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>Client parses the response and continues the CoAP processing (OSCOAP verification succeeds); expected: 2.02 Deleted Response with:</p>
<ul>
<li>Object-Security option</li>
</ul></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><p>Client displays the received packet</p></td>
</tr>
</tbody>
</table>
<h4 id="test-8b">3.4.2. Identifier: TEST_8b</h4>
<p><strong>Objective</strong> : Perform a DELETE transaction using OSCOAP and Uri-Path option (Server side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>server security context</em>: <a href="#server-sec">Security Context B</a>, with:</p>
<ul>
<li>Sequence number received not in server's replay window</li>
</ul>
<p><em>server resources</em>:</p>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP DEL request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-Path = /test</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>Server parses the request and continues the CoAP processing (OSCOAP verification succeeds)</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><p>Server displays the received packet</p></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>Server serialize the response correctly, which is: 2.02 Deleted Response with:</p>
<ul>
<li>Object-Security option</li>
</ul></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><p>Server displays the sent packet</p></td>
</tr>
</tbody>
</table>
<hr />
<p>TODO: UPDATE FOLLOWING SECTIONS</p>
<h2 id="incorrect-oscoap">4. Incorrect OSCOAP use</h2>
<h3 id="sec-context">4.1. Security Context not matching</h3>
<h4 id="test-8a">4.1.1. Identifier: TEST_8a</h4>
<p><strong>Objective</strong> : Perform a GET transaction with non matching Client Sender - Server Recipient Keys (Client side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>client security context</em>: <a href="#client-sec">Security Context A</a>, with:</p>
<ul>
<li>Sender Context:
<ul>
<li>Sender Key: <strong>11</strong>-20-1E-D1-5E-10-37-BC-AF-69-06-07-9A-D3-0B-4F</li>
<li>Sender Seq Number: 08</li>
</ul></li>
<li>Recipient Context:
<ul>
<li>Recipient Seq Number: 08</li>
</ul></li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP GET request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-Path : /helloworld</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>Client serializes the request</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><ul>
<li>Client displays the sent packet</li>
<li>(Optional) Client displays the external_aad for the sent message</li>
<li>(Optional) Client displays the COSE object for the sent message</li>
</ul></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>Client doesn't receive a response back</p></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><p>Client displays the received packet (if any)</p></td>
</tr>
</tbody>
</table>
<h4 id="test-8b">4.1.2. Identifier: TEST_8b</h4>
<p><strong>Objective</strong> : Perform a GET transaction with non matching Client Sender - Server Recipient Keys (Server side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>server security context</em>: <a href="#server-sec">Security Context B</a>, with:</p>
<ul>
<li>Sender Context:
<ul>
<li>Sender Seq Number: 08</li>
</ul></li>
<li>Recipient Context:
<ul>
<li>Recipient Seq Number: 08</li>
</ul></li>
</ul>
<p><em>server resources</em>:</p>
<ul>
<li>/helloworld : protected resource, authorized method: GET, returns the string &quot;Hello World!&quot; with content-format 0 (text/plain)</li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP GET request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-Path = /helloworld</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>The message verification [6.3] fails and the server stops processing the message</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><ul>
<li>Server displays the received packet</li>
<li>(Optional) Server displays the external_aad for the received message</li>
<li>(Optional) Server displays the COSE object for the received message</li>
</ul></td>
</tr>
</tbody>
</table>
<h4 id="test-9a">4.1.3.Identifier: TEST_9a</h4>
<p><strong>Objective</strong> : Perform a GET transaction with non matching Client Sender - Server Recipient IVs(Client side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>client security context</em>: <a href="#client-sec">Security Context A</a>, with:</p>
<ul>
<li>Sender Context:
<ul>
<li>Sender IV: <strong>11</strong>-28-A4-79-D0-88-C4</li>
<li>Sender Seq Number: 09</li>
</ul></li>
<li>Recipient Context:
<ul>
<li>Recipient Seq Number: 09</li>
</ul></li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP GET request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-Path : /helloworld</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>Client serializes the request</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><ul>
<li>Client displays the sent packet</li>
<li>(Optional) Client displays the external_aad for the sent message</li>
<li>(Optional) Client displays the COSE object for the sent message</li>
</ul></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>Client doesn't receive a response back</p></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><p>Client displays the received packet (if any)</p></td>
</tr>
</tbody>
</table>
<h4 id="test-9b">4.1.4. Identifier: TEST_9b</h4>
<p><strong>Objective</strong> : Perform a GET transaction with non matching Client Sender - Server Recipient Keys (Server side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>server security context</em>: <a href="#server-sec">Security Context B</a>, with:</p>
<ul>
<li>Sender Context:
<ul>
<li>Sender Seq Number: 09</li>
</ul></li>
<li>Recipient Context:
<ul>
<li>Recipient Seq Number: 09</li>
</ul></li>
</ul>
<p><em>server resources</em>:</p>
<ul>
<li>/helloworld : protected resource, authorized method: GET, returns the string &quot;Hello World!&quot; with content-format 0 (text/plain)</li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP GET request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-Path = /helloworld</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>The message verification [6.3] fails and the server stops processing the message</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><ul>
<li>Server displays the received packet</li>
<li>(Optional) Server displays the external_aad for the received message</li>
<li>(Optional) Server displays the COSE object for the received message</li>
</ul></td>
</tr>
</tbody>
</table>
<h4 id="test-10a">4.1.5. Identifier: TEST_10a</h4>
<p><strong>Objective</strong> : Perform a GET transaction with non matching Client Sender - Server Recipient Ids(Client side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>client security context</em>: <a href="#client-sec">Security Context A</a>, with:</p>
<ul>
<li>Sender Context:
<ul>
<li>Sender Id: <strong>11</strong>-6C-69-65-6E-74</li>
<li>Sender Seq Number: 0A</li>
</ul></li>
<li>Recipient Context:
<ul>
<li>Recipient Seq Number: 0A</li>
</ul></li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP GET request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-Path : /helloworld</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>Client serializes the request</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><ul>
<li>Client displays the sent packet</li>
<li>(Optional) Client displays the external_aad for the sent message</li>
<li>(Optional) Client displays the COSE object for the sent message</li>
</ul></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>Client doesn't receive a response back</p></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><p>Client displays the received packet (if any)</p></td>
</tr>
</tbody>
</table>
<h4 id="test-10b">4.1.6 Identifier: TEST_10b</h4>
<p><strong>Objective</strong> : Perform a GET transaction with non matching Client Sender - Server Recipient Keys (Server side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>server security context</em>: <a href="#server-sec">Security Context B</a>, with:</p>
<ul>
<li>Sender Context:
<ul>
<li>Sender Seq Number: 0A</li>
</ul></li>
<li>Recipient Context:
<ul>
<li>Recipient Seq Number: 0A</li>
</ul></li>
</ul>
<p><em>server resources</em>:</p>
<ul>
<li>/helloworld : protected resource, authorized method: GET, returns the string &quot;Hello World!&quot; with content-format 0 (text/plain)</li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP GET request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-Path = /helloworld</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>The message verification [6.3] fails and the server stops processing the message</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><ul>
<li>Server displays the received packet</li>
<li>(Optional) Server displays the external_aad for the received message</li>
<li>(Optional) Server displays the COSE object for the received message</li>
</ul></td>
</tr>
</tbody>
</table>
<h4 id="test-11a">4.1.7. Identifier: TEST_11a</h4>
<p><strong>Objective</strong> : Perform a GET transaction with non matching Client Recipient - Server Sender Keys (Client side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>client security context</em>: <a href="#client-sec">Security Context A</a>, with:</p>
<ul>
<li>Sender Context:
<ul>
<li>Sender Seq Number: 0B</li>
</ul></li>
<li>Recipient Context:
<ul>
<li>Recipient Key: <strong>11</strong>-43-09-8A-0F-6F-7B-69-CE-DF-29-E0-80-50-95-82</li>
<li>Recipient Seq Number: 0B</li>
</ul></li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP GET request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-Path : /helloworld</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>Client serializes the request</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><ul>
<li>Client displays the sent packet</li>
<li>(Optional) Client displays the external_aad for the sent message</li>
<li>(Optional) Client displays the COSE object for the sent message</li>
</ul></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>The message verification [6.5] fails and the client stops processing the message</p></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><ul>
<li>Client displays the received packet</li>
<li>(Optional) Client displays the external_aad for the received message</li>
<li>(Optional) Client displays the COSE object for the received message</li>
</ul></td>
</tr>
</tbody>
</table>
<h4 id="test-11b">4.1.8. Identifier: TEST_11b</h4>
<p><strong>Objective</strong> : Perform a GET transaction with non matching Client Recipient - Server Sender Keys (Server side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>server security context</em>: <a href="#server-sec">Security Context B</a>, with:</p>
<ul>
<li>Sender Context:
<ul>
<li>Sender Seq Number: 0B</li>
</ul></li>
<li>Recipient Context:
<ul>
<li>Recipient Seq Number: 0B</li>
</ul></li>
</ul>
<p><em>server resources</em>:</p>
<ul>
<li>/helloworld : protected resource, authorized method: GET, returns the string &quot;Hello World!&quot; with content-format 0 (text/plain)</li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP GET request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-Path = /helloworld</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>Server parses the request and continues the CoAP processing (OSCOAP verification succeeds)</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><ul>
<li>Server displays the received packet</li>
<li>(Optional) Server displays the external_aad for the received message</li>
<li>(Optional) Server displays the COSE object for the received message</li>
</ul></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>Server serialize the response correctly, including:</p>
<ul>
<li>Object-Security option</li>
<li>Content-Format = 0 (text/plain)</li>
<li>payload</li>
</ul></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><ul>
<li>Server displays the sent packet</li>
<li>(Optional) Server displays the external_aad for the sent message</li>
<li>(Optional) Server displays the COSE object for the sent message</li>
</ul></td>
</tr>
</tbody>
</table>
<h4 id="test-12a">4.1.9. Identifier: TEST_12a</h4>
<p><strong>Objective</strong> : Perform a GET transaction with non matching Client Recipient - Server Sender IVs (Client side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>client security context</em>: <a href="#client-sec">Security Context A</a>, with:</p>
<ul>
<li>Sender Context:
<ul>
<li>Sender Seq Number: 0C</li>
</ul></li>
<li>Recipient Context:
<ul>
<li>Recipient IV: <strong>11</strong>-F9-1A-5C-DF-F4-F5</li>
<li>Recipient Seq Number: 0C</li>
</ul></li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP GET request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-Path : /helloworld</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>Client serializes the request</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><ul>
<li>Client displays the sent packet</li>
<li>(Optional) Client displays the external_aad for the sent message</li>
<li>(Optional) Client displays the COSE object for the sent message</li>
</ul></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>The message verification [6.5] fails and the client stops processing the message</p></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><ul>
<li>Client displays the received packet</li>
<li>(Optional) Client displays the external_aad for the received message</li>
<li>(Optional) Client displays the COSE object for the received message</li>
</ul></td>
</tr>
</tbody>
</table>
<h4 id="test-12b">4.1.10. Identifier: TEST_12b</h4>
<p><strong>Objective</strong> : Perform a GET transaction with non matching Client Recipient - Server Sender IVs (Server side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>server security context</em>: <a href="#server-sec">Security Context B</a>, with:</p>
<ul>
<li>Sender Context:
<ul>
<li>Sender Seq Number: 0C</li>
</ul></li>
<li>Recipient Context:
<ul>
<li>Recipient Seq Number: 0C</li>
</ul></li>
</ul>
<p><em>server resources</em>:</p>
<ul>
<li>/helloworld : protected resource, authorized method: GET, returns the string &quot;Hello World!&quot; with content-format 0 (text/plain)</li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP GET request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-Path = /helloworld</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>Server parses the request and continues the CoAP processing (OSCOAP verification succeeds)</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><ul>
<li>Server displays the received packet</li>
<li>(Optional) Server displays the external_aad for the received message</li>
<li>(Optional) Server displays the COSE object for the received message</li>
</ul></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>Server serialize the response correctly, including:</p>
<ul>
<li>Object-Security option</li>
<li>Content-Format = 0 (text/plain)</li>
<li>payload</li>
</ul></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><ul>
<li>Server displays the sent packet</li>
<li>(Optional) Server displays the external_aad for the sent message</li>
<li>(Optional) Server displays the COSE object for the sent message</li>
</ul></td>
</tr>
</tbody>
</table>
<h4 id="test-13a">4.1.11. Identifier: TEST_13a</h4>
<p><strong>Objective</strong> : Perform a GET transaction with non matching Client Recipient - Server Sender Ids (Client side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>client security context</em>: <a href="#client-sec">Security Context A</a>, with:</p>
<ul>
<li>Sender Context:
<ul>
<li>Sender Seq Number: 0D</li>
</ul></li>
<li>Recipient Context:
<ul>
<li>Recipient Id: <strong>11</strong>-65-72-76-65-72</li>
<li>Recipient Seq Number: 0D</li>
</ul></li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP GET request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-Path : /helloworld</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>Client serializes the request</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><ul>
<li>Client displays the sent packet</li>
<li>(Optional) Client displays the external_aad for the sent message</li>
<li>(Optional) Client displays the COSE object for the sent message</li>
</ul></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>The message verification [6.5] fails and the client stops processing the message</p></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><ul>
<li>Client displays the received packet</li>
<li>(Optional) Client displays the external_aad for the received message</li>
<li>(Optional) Client displays the COSE object for the received message</li>
</ul></td>
</tr>
</tbody>
</table>
<h4 id="test-13b">4.1.12. Identifier: TEST_13b</h4>
<p><strong>Objective</strong> : Perform a GET transaction with non matching Client Recipient - Server Sender Ids (Server side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>server security context</em>: <a href="#server-sec">Security Context B</a>, with:</p>
<ul>
<li>Sender Context:
<ul>
<li>Sender Seq Number: 0D</li>
</ul></li>
<li>Recipient Context:
<ul>
<li>Recipient Seq Number: 0D</li>
</ul></li>
</ul>
<p><em>server resources</em>:</p>
<ul>
<li>/helloworld : protected resource, authorized method: GET, returns the string &quot;Hello World!&quot; with content-format 0 (text/plain)</li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP GET request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-Path = /helloworld</li>
</ul></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>Server parses the request and continues the CoAP processing (OSCOAP verification succeeds)</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><ul>
<li>Server displays the received packet</li>
<li>(Optional) Server displays the external_aad for the received message</li>
<li>(Optional) Server displays the COSE object for the received message</li>
</ul></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>Server serialize the response correctly, including:</p>
<ul>
<li>Object-Security option</li>
<li>Content-Format = 0 (text/plain)</li>
<li>payload</li>
</ul></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><ul>
<li>Server displays the sent packet</li>
<li>(Optional) Server displays the external_aad for the sent message</li>
<li>(Optional) Server displays the COSE object for the sent message</li>
</ul></td>
</tr>
</tbody>
</table>
<h3 id="replay">4.2. Replay of a previously sent message</h3>
<h4 id="test-14a">4.2.1. Identifier: TEST_14a</h4>
<p><strong>Objective</strong> : Perform a GET transaction using OSCOAP, Content-Format and Uri-Path option, request replayed by the Client (Client side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>client security context</em>: <a href="#client-sec">Security Context A</a>, with:</p>
<ul>
<li>Sender Context:
<ul>
<li>Sender Seq Number: <strong>00</strong></li>
</ul></li>
<li>Recipient Context:
<ul>
<li>Recipient Seq Number: 0E</li>
</ul></li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP GET request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-Path : /helloworld</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>Client serializes the request</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><ul>
<li>Client displays the sent packet</li>
<li>(Optional) Client displays the sequence number in the sent message</li>
<li>(Optional) Client displays the external_aad for the sent message</li>
<li>(Optional) Client displays the COSE object for the sent message</li>
</ul></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>Client doesn't receive a response back</p></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><p>Client displays the received packet (if any)</p></td>
</tr>
</tbody>
</table>
<h4 id="test-14b">4.2.2. Identifier: TEST_14b</h4>
<p><strong>Objective</strong> : Perform a GET transaction using OSCOAP, Content-Format and Uri-Path option, request replayed by the Client (Server side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>server security context</em>: <a href="#server-sec">Security Context B</a>, with:</p>
<ul>
<li>Sender Context:
<ul>
<li>Sender Seq Number: 0E</li>
</ul></li>
<li>Recipient Context:
<ul>
<li>Recipient Seq Number: <strong>65</strong></li>
</ul></li>
</ul>
<p><em>server resources</em>:</p>
<ul>
<li>/helloworld : protected resource, authorized method: GET, returns the string &quot;Hello World!&quot; with content-format 0 (text/plain)</li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP GET request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-Path = /helloworld</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>The message verification [6.3] fails and the server stops processing the message</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><ul>
<li>Server displays the received packet</li>
<li>(Optional) Server displays the sequence number in the received message</li>
<li>(Optional) Server displays the external_aad for the received message</li>
<li>(Optional) Server displays the COSE object for the received message</li>
</ul></td>
</tr>
</tbody>
</table>
<h4 id="test-15a">4.2.3. Identifier: TEST_15a</h4>
<p><strong>Objective</strong> : Perform a GET transaction using OSCOAP, Content-Format and Uri-Path option, response replayed by the Server (Correct Tid) (Client side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>client security context</em>: <a href="#client-sec">Security Context A</a>, with:</p>
<ul>
<li>Sender Context:
<ul>
<li>Sender Seq Number: 0F</li>
</ul></li>
<li>Recipient Context:
<ul>
<li>Recipient Seq Number: <strong>65</strong></li>
</ul></li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP GET request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-Path : /helloworld</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>Client serializes the request</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><ul>
<li>Client displays the sent packet</li>
<li>(Optional) Client displays the external_aad for the sent message</li>
<li>(Optional) Client displays the COSE object for the sent message</li>
</ul></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>The message verification [6.5] fails and the client stops processing the message</p></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><ul>
<li>Client displays the received packet</li>
<li>(Optional) Client displays the sequence number in the received message</li>
<li>(Optional) Client displays the external_aad for the received message</li>
<li>(Optional) Client displays the COSE object for the received message</li>
</ul></td>
</tr>
</tbody>
</table>
<h4 id="test-15b">4.2.4. Identifier: TEST_15b</h4>
<p><strong>Objective</strong> : Perform a GET transaction using OSCOAP, Content-Format and Uri-Path option, response replayed by the Server (Correct Tid) (Server side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>server security context</em>: <a href="#server-sec">Security Context B</a>, with:</p>
<ul>
<li>Sender Context:
<ul>
<li>Sender Seq Number: <strong>00</strong></li>
</ul></li>
<li>Recipient Context:
<ul>
<li>Recipient Seq Number: 0F</li>
</ul></li>
</ul>
<p><em>server resources</em>:</p>
<ul>
<li>/helloworld : protected resource, authorized method: GET, returns the string &quot;Hello World!&quot; with content-format 0 (text/plain)</li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP GET request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-Path = /helloworld</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>Server parses the request and continues the CoAP processing (OSCOAP verification succeeds)</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><ul>
<li>Server displays the received packet</li>
<li>(Optional) Server displays the external_aad for the received message</li>
<li>(Optional) Server displays the COSE object for the received message</li>
</ul></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>Server serialize the response correctly, including:</p>
<ul>
<li>Object-Security option</li>
<li>Content-Format = 0 (text/plain)</li>
<li>payload</li>
</ul></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><ul>
<li>Server displays the sent packet</li>
<li>(Optional) Server displays the sequence number in the sent message</li>
<li>(Optional) Server displays the external_aad for the sent message</li>
<li>(Optional) Server displays the COSE object for the sent message</li>
</ul></td>
</tr>
</tbody>
</table>
<h4 id="test-16a">4.2.5. Identifier: TEST_16a</h4>
<p><strong>Objective</strong> : Perform a GET transaction using OSCOAP, Content-Format and Uri-Path option, response replayed by the Server (Wrong Tid) (Client side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>client security context</em>: <a href="#client-sec">Security Context A</a>, with:</p>
<ul>
<li>Sender Context:
<ul>
<li>Sender Seq Number: <strong>10</strong></li>
</ul></li>
<li>Recipient Context:
<ul>
<li>Recipient Seq Number: 10</li>
</ul></li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP GET request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-Path : /change-tid</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>Client serializes the request</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><ul>
<li>Client displays the sent packet</li>
<li>(Optional) Client displays the external_aad for the sent message</li>
<li>(Optional) Client displays the COSE object for the sent message</li>
</ul></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>The message verification [6.5] fails and the client stops processing the message</p></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><ul>
<li>Client displays the received packet</li>
<li>(Optional) Client displays the external_aad for the received message</li>
<li>(Optional) Client displays the COSE object for the received message</li>
</ul></td>
</tr>
</tbody>
</table>
<h4 id="test-16b">4.2.6. Identifier: TEST_16b</h4>
<p><strong>Objective</strong> : Perform a GET transaction using OSCOAP, Content-Format and Uri-Path option, response replayed by the Server (Wrong Tid) (Server side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>server security context</em>: <a href="#server-sec">Security Context B</a>, with:</p>
<ul>
<li>Sender Context:
<ul>
<li>Sender Seq Number: 10</li>
</ul></li>
<li>Recipient Context:
<ul>
<li>Recipient Seq Number: 10</li>
</ul></li>
</ul>
<p><em>server resources</em>:</p>
<ul>
<li>/change-tid : protected resource, authorized method: GET, modify the Tid of the response to an arbitrary value, returns the string &quot;Hello World!&quot; with content-format 0 (text/plain)</li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP GET request protected with OSCOAP, including:</p>
<ul>
<li>Object-Security option</li>
<li>Uri-Path = /change-tid</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>Server parses the request and continues the CoAP processing (OSCOAP verification succeeds)</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><ul>
<li>Server displays the received packet</li>
<li>(Optional) Server displays the Tid for the received message</li>
<li>(Optional) Server displays the external_aad for the received message</li>
<li>(Optional) Server displays the COSE object for the received message</li>
</ul></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>Server serialize the response correctly, including:</p>
<ul>
<li>Object-Security option</li>
<li>Content-Format = 0 (text/plain)</li>
<li>payload</li>
</ul></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><ul>
<li>Server displays the sent packet</li>
<li>(Optional) Server displays the external_aad for the sent message</li>
<li>(Optional) Server displays the COSE object for the sent message</li>
</ul></td>
</tr>
</tbody>
</table>
<h3 id="unauth">4.3. Accessing an OSCOAP-protected resource without OSCOAP</h3>
<h4 id="test-17a">4.3.1. Identifier: TEST_17a</h4>
<p><strong>Objective</strong> : Perform a GET transaction without using OSCOAP to a protected resource, Content-Format and Uri-Path option (Client side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>client security context</em>: <a href="#client-sec">Security Context A</a>, with:</p>
<p>N/A</p>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP GET request, including:</p>
<ul>
<li>Uri-Path : /helloworld</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>Client serializes the request</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><p>Client displays the sent packet</p></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>Client parses the response and continues the CoAP processing (OSCOAP verification succeeds)</p></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><p>Client displays the received packet</p></td>
</tr>
</tbody>
</table>
<h4 id="test-17b">4.3.2. Identifier: TEST_17b</h4>
<p><strong>Objective</strong> : Perform a GET transaction without using OSCOAP to a protected resource, Content-Format and Uri-Path option (Server side)</p>
<p><strong>Configuration</strong> :</p>
<p><em>server security context</em>: <a href="#server-sec">Security Context B</a>, with:</p>
<ul>
<li>Sender Context:
<ul>
<li>Sender Seq Number: 11</li>
</ul></li>
<li>Recipient Context:
<ul>
<li>Recipient Seq Number: 11</li>
</ul></li>
</ul>
<p><em>server resources</em>:</p>
<ul>
<li>/helloworld : protected resource, authorized method: GET, returns the string &quot;Hello World!&quot; with content-format 0 (text/plain)</li>
</ul>
<p><strong>Test Sequence</strong></p>
<table>
<colgroup>
<col width="9%" />
<col width="14%" />
<col width="76%" />
</colgroup>
<thead>
<tr class="header">
<th>Step</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>1</p></td>
<td><p>Stimulus</p></td>
<td><p>The client is requested to send a CoAP GET request, including:</p>
<ul>
<li>Uri-Path : /helloworld</li>
</ul></td>
</tr>
<tr class="even">
<td><p>2</p></td>
<td><p>Check</p></td>
<td><p>The message verification [6.3] fails</p></td>
</tr>
<tr class="odd">
<td><p>3</p></td>
<td><p>Verify</p></td>
<td><p>Server displays the received packet</p></td>
</tr>
<tr class="even">
<td><p>4</p></td>
<td><p>Check</p></td>
<td><p>Server serialize the response correctly, including:</p>
<ul>
<li>Error code 4.01 Unauthorized</li>
<li>(Optional) Content-Format = 0 (text/plain)</li>
<li>(Optional) payload</li>
</ul></td>
</tr>
<tr class="odd">
<td><p>5</p></td>
<td><p>Verify</p></td>
<td><p>Server displays the sent packet</p></td>
</tr>
</tbody>
</table>
